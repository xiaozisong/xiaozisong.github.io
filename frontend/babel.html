<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.49">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/images/head.jpeg"><title>Babel | xzs</title><meta name="description" content="前端学习">
    <link rel="modulepreload" href="/./assets/app.1fa09df8.js"><link rel="modulepreload" href="/./assets/babel.html.81f2fdeb.js"><link rel="modulepreload" href="/./assets/babel.html.a2acc717.js"><link rel="prefetch" href="/./assets/index.html.00171497.js"><link rel="prefetch" href="/./assets/index.html.276e001f.js"><link rel="prefetch" href="/./assets/数据结构与算法.html.d546dfbf.js"><link rel="prefetch" href="/./assets/gitlab.html.a8888b8c.js"><link rel="prefetch" href="/./assets/jenkins.html.3badf507.js"><link rel="prefetch" href="/./assets/linux.html.11f1e24b.js"><link rel="prefetch" href="/./assets/mongodb.html.997d532b.js"><link rel="prefetch" href="/./assets/nginx.html.82352640.js"><link rel="prefetch" href="/./assets/redis.html.25bee7e3.js"><link rel="prefetch" href="/./assets/ssl_ci.html.7f1163c0.js"><link rel="prefetch" href="/./assets/bgw.html.5abfd626.js"><link rel="prefetch" href="/./assets/jquery.html.f8f249b4.js"><link rel="prefetch" href="/./assets/rollup.html.127a8885.js"><link rel="prefetch" href="/./assets/021.html.39e78f0a.js"><link rel="prefetch" href="/./assets/types.html.84f2c167.js"><link rel="prefetch" href="/./assets/FiberNode.html.4822f358.js"><link rel="prefetch" href="/./assets/chrome_extensions.html.6d7d8e39.js"><link rel="prefetch" href="/./assets/code_review.html.11833255.js"><link rel="prefetch" href="/./assets/code_review2.0.html.2b1c23dd.js"><link rel="prefetch" href="/./assets/mr_cli.html.71d82307.js"><link rel="prefetch" href="/./assets/plan.html.e21a174b.js"><link rel="prefetch" href="/./assets/specification.html.5d8442df.js"><link rel="prefetch" href="/./assets/vuepress_blog.html.e4d0849c.js"><link rel="prefetch" href="/./assets/navigation.html.ead14153.js"><link rel="prefetch" href="/./assets/basic.html.120060df.js"><link rel="prefetch" href="/./assets/oop.html.4cd205e6.js"><link rel="prefetch" href="/./assets/axios.html.f25ac4ec.js"><link rel="prefetch" href="/./assets/cheerio.html.47e57cbf.js"><link rel="prefetch" href="/./assets/commonjs.html.96707afa.js"><link rel="prefetch" href="/./assets/egg.html.5cb48519.js"><link rel="prefetch" href="/./assets/events.html.306cde1c.js"><link rel="prefetch" href="/./assets/express.html.64a46a00.js"><link rel="prefetch" href="/./assets/fs.html.38e4a4d4.js"><link rel="prefetch" href="/./assets/http.html.94afb28b.js"><link rel="prefetch" href="/./assets/husky.html.0c7c379c.js"><link rel="prefetch" href="/./assets/jsdoc.html.d5a4e4fc.js"><link rel="prefetch" href="/./assets/koa.html.7d17c596.js"><link rel="prefetch" href="/./assets/mongoose.html.ec034798.js"><link rel="prefetch" href="/./assets/npm.html.e9baffe7.js"><link rel="prefetch" href="/./assets/npm_yarn_source.html.4fcaf71f.js"><link rel="prefetch" href="/./assets/os.html.4d50191f.js"><link rel="prefetch" href="/./assets/path.html.8d106a49.js"><link rel="prefetch" href="/./assets/playwright.html.cdede716.js"><link rel="prefetch" href="/./assets/pnpm.html.13d902dc.js"><link rel="prefetch" href="/./assets/shelljs.html.94aba400.js"><link rel="prefetch" href="/./assets/upload_img.html.3e9e299d.js"><link rel="prefetch" href="/./assets/url.html.274ebddd.js"><link rel="prefetch" href="/./assets/yargs.html.93a17328.js"><link rel="prefetch" href="/./assets/graph.html.d85ced84.js"><link rel="prefetch" href="/./assets/greed_dynamic.html.cc626ee8.js"><link rel="prefetch" href="/./assets/linear.html.4f13c619.js"><link rel="prefetch" href="/./assets/sort_search.html.4c59c54b.js"><link rel="prefetch" href="/./assets/tree.html.16f6a567.js"><link rel="prefetch" href="/./assets/index.html.610bd5a3.js"><link rel="prefetch" href="/./assets/index.html.06f9057c.js"><link rel="prefetch" href="/./assets/flex.html.5eaca192.js"><link rel="prefetch" href="/./assets/flexible.html.2801b06c.js"><link rel="prefetch" href="/./assets/grid.html.070bf1f4.js"><link rel="prefetch" href="/./assets/miniprogram_scroll_notice.html.08e3bf62.js"><link rel="prefetch" href="/./assets/scss.html.004b532b.js"><link rel="prefetch" href="/./assets/some_example.html.c731888a.js"><link rel="prefetch" href="/./assets/vw_vh.html.bb51e06e.js"><link rel="prefetch" href="/./assets/ajax.html.a5f5fff3.js"><link rel="prefetch" href="/./assets/http.html.ab2c3278.js"><link rel="prefetch" href="/./assets/websockets.html.a5a0d25b.js"><link rel="prefetch" href="/./assets/dependency_injection.html.1bf89c2a.js"><link rel="prefetch" href="/./assets/es6_.html.96aa7f76.js"><link rel="prefetch" href="/./assets/event_loop.html.fe6a06c8.js"><link rel="prefetch" href="/./assets/module.html.5ce3f499.js"><link rel="prefetch" href="/./assets/promise.html.473e0078.js"><link rel="prefetch" href="/./assets/reg_grammar.html.59c72aab.js"><link rel="prefetch" href="/./assets/hole.html.af3ecda4.js"><link rel="prefetch" href="/./assets/hooks.html.e0e6a0d3.js"><link rel="prefetch" href="/./assets/next.html.7adffcd7.js"><link rel="prefetch" href="/./assets/react_redux.html.609169db.js"><link rel="prefetch" href="/./assets/react_router_dom.html.ab19523a.js"><link rel="prefetch" href="/./assets/react_source_read.html.bb32134a.js"><link rel="prefetch" href="/./assets/index.html.788b629c.js"><link rel="prefetch" href="/./assets/exercise.html.159fe275.js"><link rel="prefetch" href="/./assets/summary.html.2d74b3ea.js"><link rel="prefetch" href="/./assets/tapable_module.html.e8d1071b.js"><link rel="prefetch" href="/./assets/index.html.151bae7a.js"><link rel="prefetch" href="/./assets/git_tag.html.73218c04.js"><link rel="prefetch" href="/./assets/js_delivr.html.3f5d1874.js"><link rel="prefetch" href="/./assets/logogram.html.0ac578c2.js"><link rel="prefetch" href="/./assets/semantic_versions.html.d85122bb.js"><link rel="prefetch" href="/./assets/some_lore.html.a0b00598.js"><link rel="prefetch" href="/./assets/eslint.html.2ad2e612.js"><link rel="prefetch" href="/./assets/vscode_plugins.html.6bb185d5.js"><link rel="prefetch" href="/./assets/vscode_setting.html.9a555e9c.js"><link rel="prefetch" href="/./assets/history.html.349de05b.js"><link rel="prefetch" href="/./assets/version.html.115ec76f.js"><link rel="prefetch" href="/./assets/404.html.265028f6.js"><link rel="prefetch" href="/./assets/index.html.db6c9061.js"><link rel="prefetch" href="/./assets/index.html.cb4a7402.js"><link rel="prefetch" href="/./assets/数据结构与算法.html.ca60afad.js"><link rel="prefetch" href="/./assets/gitlab.html.0591a7e9.js"><link rel="prefetch" href="/./assets/jenkins.html.a48c1e50.js"><link rel="prefetch" href="/./assets/linux.html.14d2dc2d.js"><link rel="prefetch" href="/./assets/mongodb.html.db262922.js"><link rel="prefetch" href="/./assets/nginx.html.e8c20551.js"><link rel="prefetch" href="/./assets/redis.html.c27b25c7.js"><link rel="prefetch" href="/./assets/ssl_ci.html.927b61f1.js"><link rel="prefetch" href="/./assets/bgw.html.ecbd3b24.js"><link rel="prefetch" href="/./assets/jquery.html.737e776b.js"><link rel="prefetch" href="/./assets/rollup.html.7a3780c2.js"><link rel="prefetch" href="/./assets/021.html.7118d3f7.js"><link rel="prefetch" href="/./assets/types.html.817839d0.js"><link rel="prefetch" href="/./assets/FiberNode.html.0554fc23.js"><link rel="prefetch" href="/./assets/chrome_extensions.html.aa4c621c.js"><link rel="prefetch" href="/./assets/code_review.html.7dfc9b0b.js"><link rel="prefetch" href="/./assets/code_review2.0.html.58461a10.js"><link rel="prefetch" href="/./assets/mr_cli.html.27cb8c91.js"><link rel="prefetch" href="/./assets/plan.html.44a1ef41.js"><link rel="prefetch" href="/./assets/specification.html.0de92bee.js"><link rel="prefetch" href="/./assets/vuepress_blog.html.d3b9be77.js"><link rel="prefetch" href="/./assets/navigation.html.8dd638be.js"><link rel="prefetch" href="/./assets/basic.html.51e1f953.js"><link rel="prefetch" href="/./assets/oop.html.8f5cefd4.js"><link rel="prefetch" href="/./assets/axios.html.bbdd28b9.js"><link rel="prefetch" href="/./assets/cheerio.html.e875b91f.js"><link rel="prefetch" href="/./assets/commonjs.html.76b1c326.js"><link rel="prefetch" href="/./assets/egg.html.c8216408.js"><link rel="prefetch" href="/./assets/events.html.2cb80d5f.js"><link rel="prefetch" href="/./assets/express.html.ba2998c5.js"><link rel="prefetch" href="/./assets/fs.html.0772eb7e.js"><link rel="prefetch" href="/./assets/http.html.9daa1a2f.js"><link rel="prefetch" href="/./assets/husky.html.002831c3.js"><link rel="prefetch" href="/./assets/jsdoc.html.1fb6b720.js"><link rel="prefetch" href="/./assets/koa.html.68a874fb.js"><link rel="prefetch" href="/./assets/mongoose.html.51890ec4.js"><link rel="prefetch" href="/./assets/npm.html.9a2aea7a.js"><link rel="prefetch" href="/./assets/npm_yarn_source.html.22fdcf88.js"><link rel="prefetch" href="/./assets/os.html.e6642b7c.js"><link rel="prefetch" href="/./assets/path.html.9f9e82e2.js"><link rel="prefetch" href="/./assets/playwright.html.8a1c66ca.js"><link rel="prefetch" href="/./assets/pnpm.html.1a20234e.js"><link rel="prefetch" href="/./assets/shelljs.html.c4fcb15c.js"><link rel="prefetch" href="/./assets/upload_img.html.613ddd61.js"><link rel="prefetch" href="/./assets/url.html.ee2d2b99.js"><link rel="prefetch" href="/./assets/yargs.html.eaab82ce.js"><link rel="prefetch" href="/./assets/graph.html.df88a5b9.js"><link rel="prefetch" href="/./assets/greed_dynamic.html.3cf88951.js"><link rel="prefetch" href="/./assets/linear.html.51b855da.js"><link rel="prefetch" href="/./assets/sort_search.html.b3a0d323.js"><link rel="prefetch" href="/./assets/tree.html.b9c2fd24.js"><link rel="prefetch" href="/./assets/index.html.aa9c2f1e.js"><link rel="prefetch" href="/./assets/index.html.c6485b95.js"><link rel="prefetch" href="/./assets/flex.html.f4d51c6a.js"><link rel="prefetch" href="/./assets/flexible.html.9d1107c4.js"><link rel="prefetch" href="/./assets/grid.html.a9fe2b5d.js"><link rel="prefetch" href="/./assets/miniprogram_scroll_notice.html.23cfdccf.js"><link rel="prefetch" href="/./assets/scss.html.6ba4ebb3.js"><link rel="prefetch" href="/./assets/some_example.html.1c1e9b60.js"><link rel="prefetch" href="/./assets/vw_vh.html.affee943.js"><link rel="prefetch" href="/./assets/ajax.html.c75dfd98.js"><link rel="prefetch" href="/./assets/http.html.42754c50.js"><link rel="prefetch" href="/./assets/websockets.html.2b02073b.js"><link rel="prefetch" href="/./assets/dependency_injection.html.49dbaa67.js"><link rel="prefetch" href="/./assets/es6_.html.fc23e38f.js"><link rel="prefetch" href="/./assets/event_loop.html.58ef87f6.js"><link rel="prefetch" href="/./assets/module.html.65755d76.js"><link rel="prefetch" href="/./assets/promise.html.b24687c3.js"><link rel="prefetch" href="/./assets/reg_grammar.html.ca19b753.js"><link rel="prefetch" href="/./assets/hole.html.c77fef6b.js"><link rel="prefetch" href="/./assets/hooks.html.b6571a16.js"><link rel="prefetch" href="/./assets/next.html.09f75bba.js"><link rel="prefetch" href="/./assets/react_redux.html.350aa816.js"><link rel="prefetch" href="/./assets/react_router_dom.html.8f657557.js"><link rel="prefetch" href="/./assets/react_source_read.html.cc3cc57b.js"><link rel="prefetch" href="/./assets/index.html.ad36f68f.js"><link rel="prefetch" href="/./assets/exercise.html.1fcda62a.js"><link rel="prefetch" href="/./assets/summary.html.66bdcd35.js"><link rel="prefetch" href="/./assets/tapable_module.html.0e5ee364.js"><link rel="prefetch" href="/./assets/index.html.35e366b4.js"><link rel="prefetch" href="/./assets/git_tag.html.6ae8e671.js"><link rel="prefetch" href="/./assets/js_delivr.html.c1b63626.js"><link rel="prefetch" href="/./assets/logogram.html.bdab2d4a.js"><link rel="prefetch" href="/./assets/semantic_versions.html.bcae6db4.js"><link rel="prefetch" href="/./assets/some_lore.html.53f256b5.js"><link rel="prefetch" href="/./assets/eslint.html.2b95d599.js"><link rel="prefetch" href="/./assets/vscode_plugins.html.da698a54.js"><link rel="prefetch" href="/./assets/vscode_setting.html.55fc4774.js"><link rel="prefetch" href="/./assets/history.html.c5f59ce6.js"><link rel="prefetch" href="/./assets/version.html.9d0b07ea.js"><link rel="prefetch" href="/./assets/404.html.3de8f0a3.js"><link rel="prefetch" href="/./assets/404.4d1c9e47.js"><link rel="prefetch" href="/./assets/Layout.452482a9.js">
    <link rel="stylesheet" href="/./assets/style.01bb754f.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/./" class=""><img class="logo" src="/./images/head.jpeg" alt="xzs"><span class="site-name can-hide">xzs</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="前端技术"><span class="title">前端技术</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="前端技术"><span class="title">前端技术</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/./frontend/javascript/es6+.md" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./frontend/css/vw_vh.md" class="" aria-label="Css"><!--[--><!--]--> Css <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./frontend/react/react_redux.md" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./frontend/webpack/summary.md" class="" aria-label="Webpack"><!--[--><!--]--> Webpack <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./frontend/network/http.md" class="" aria-label="网络"><!--[--><!--]--> 网络 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./frontend/algorithm/sort_search.md" class="" aria-label="算法"><!--[--><!--]--> 算法 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./frontend/canvas/" class="" aria-label="Canvas"><!--[--><!--]--> Canvas <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./frontend/typescript/" class="" aria-label="Typescript"><!--[--><!--]--> Typescript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/./frontend/babel.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Babel"><!--[--><!--]--> Babel <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./frontend/rollup.html" class="" aria-label="Rollup"><!--[--><!--]--> Rollup <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./frontend/jquery.html" class="" aria-label="jQuery"><!--[--><!--]--> jQuery <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./frontend/bgw.html" class="" aria-label="八股文"><!--[--><!--]--> 八股文 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="后端技术"><span class="title">后端技术</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="后端技术"><span class="title">后端技术</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/./backend/nodejs/commonjs.md" class="" aria-label="NodeJs"><!--[--><!--]--> NodeJs <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./backend/python/01_str_num.md" class="" aria-label="Python"><!--[--><!--]--> Python <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./backend/java/basic.md" class="" aria-label="Java"><!--[--><!--]--> Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./backend/php/" class="" aria-label="PHP"><!--[--><!--]--> PHP <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="运维技术"><span class="title">运维技术</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="运维技术"><span class="title">运维技术</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/./operation/linux.html" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./operation/nginx.html" class="" aria-label="Nginx"><!--[--><!--]--> Nginx <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./operation/ssl_ci.html" class="" aria-label="SSL 证书"><!--[--><!--]--> SSL 证书 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./operation/gitlab.html" class="" aria-label="GitLab"><!--[--><!--]--> GitLab <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./operation/jenkins.html" class="" aria-label="Jenkins"><!--[--><!--]--> Jenkins <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./operation/redis.html" class="" aria-label="Redis"><!--[--><!--]--> Redis <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./operation/mongodb.html" class="" aria-label="MongoDB"><!--[--><!--]--> MongoDB <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="工具"><span class="title">工具</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="工具"><span class="title">工具</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/./tools/navigation.md" class="" aria-label="🧭工具、软件、网址导航"><!--[--><!--]--> 🧭工具、软件、网址导航 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./tools/git/" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./tools/ide/vscode_plugins.md" class="" aria-label="IDE"><!--[--><!--]--> IDE <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="技术分享"><span class="title">技术分享</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="技术分享"><span class="title">技术分享</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/./share/code_review.html" class="" aria-label="Gitlab MR 结合钉钉机器人的自动化 Code Review"><!--[--><!--]--> Gitlab MR 结合钉钉机器人的自动化 Code Review <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./share/chrome_extensions.html" class="" aria-label="Chrome 扩展开发入门"><!--[--><!--]--> Chrome 扩展开发入门 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="React源码解析"><span class="title">React源码解析</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="React源码解析"><span class="title">React源码解析</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/./react/FiberNode.md" class="" aria-label="FiberNode"><!--[--><!--]--> FiberNode <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/xiaozisong" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="前端技术"><span class="title">前端技术</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="前端技术"><span class="title">前端技术</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/./frontend/javascript/es6+.md" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./frontend/css/vw_vh.md" class="" aria-label="Css"><!--[--><!--]--> Css <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./frontend/react/react_redux.md" class="" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./frontend/webpack/summary.md" class="" aria-label="Webpack"><!--[--><!--]--> Webpack <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./frontend/network/http.md" class="" aria-label="网络"><!--[--><!--]--> 网络 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./frontend/algorithm/sort_search.md" class="" aria-label="算法"><!--[--><!--]--> 算法 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./frontend/canvas/" class="" aria-label="Canvas"><!--[--><!--]--> Canvas <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./frontend/typescript/" class="" aria-label="Typescript"><!--[--><!--]--> Typescript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/./frontend/babel.html" class="router-link-active router-link-exact-active router-link-active" aria-label="Babel"><!--[--><!--]--> Babel <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./frontend/rollup.html" class="" aria-label="Rollup"><!--[--><!--]--> Rollup <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./frontend/jquery.html" class="" aria-label="jQuery"><!--[--><!--]--> jQuery <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./frontend/bgw.html" class="" aria-label="八股文"><!--[--><!--]--> 八股文 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="后端技术"><span class="title">后端技术</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="后端技术"><span class="title">后端技术</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/./backend/nodejs/commonjs.md" class="" aria-label="NodeJs"><!--[--><!--]--> NodeJs <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./backend/python/01_str_num.md" class="" aria-label="Python"><!--[--><!--]--> Python <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./backend/java/basic.md" class="" aria-label="Java"><!--[--><!--]--> Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./backend/php/" class="" aria-label="PHP"><!--[--><!--]--> PHP <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="运维技术"><span class="title">运维技术</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="运维技术"><span class="title">运维技术</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/./operation/linux.html" class="" aria-label="Linux"><!--[--><!--]--> Linux <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./operation/nginx.html" class="" aria-label="Nginx"><!--[--><!--]--> Nginx <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./operation/ssl_ci.html" class="" aria-label="SSL 证书"><!--[--><!--]--> SSL 证书 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./operation/gitlab.html" class="" aria-label="GitLab"><!--[--><!--]--> GitLab <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./operation/jenkins.html" class="" aria-label="Jenkins"><!--[--><!--]--> Jenkins <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./operation/redis.html" class="" aria-label="Redis"><!--[--><!--]--> Redis <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./operation/mongodb.html" class="" aria-label="MongoDB"><!--[--><!--]--> MongoDB <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="工具"><span class="title">工具</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="工具"><span class="title">工具</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/./tools/navigation.md" class="" aria-label="🧭工具、软件、网址导航"><!--[--><!--]--> 🧭工具、软件、网址导航 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./tools/git/" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./tools/ide/vscode_plugins.md" class="" aria-label="IDE"><!--[--><!--]--> IDE <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="技术分享"><span class="title">技术分享</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="技术分享"><span class="title">技术分享</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/./share/code_review.html" class="" aria-label="Gitlab MR 结合钉钉机器人的自动化 Code Review"><!--[--><!--]--> Gitlab MR 结合钉钉机器人的自动化 Code Review <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/./share/chrome_extensions.html" class="" aria-label="Chrome 扩展开发入门"><!--[--><!--]--> Chrome 扩展开发入门 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="React源码解析"><span class="title">React源码解析</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="React源码解析"><span class="title">React源码解析</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/./react/FiberNode.md" class="" aria-label="FiberNode"><!--[--><!--]--> FiberNode <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/xiaozisong" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">JavaScript <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/./frontend/javascript/es6+.html" class="sidebar-item" aria-label="ES6+"><!--[--><!--]--> ES6+ <!--[--><!--]--></a><!----></li><li><a href="/./frontend/javascript/event_loop.html" class="sidebar-item" aria-label="事件循环 EventLoop"><!--[--><!--]--> 事件循环 EventLoop <!--[--><!--]--></a><!----></li><li><a href="/./frontend/javascript/promise.html" class="sidebar-item" aria-label="ES6 异步解决方案 Promise"><!--[--><!--]--> ES6 异步解决方案 Promise <!--[--><!--]--></a><!----></li><li><a href="/./frontend/javascript/module.html" class="sidebar-item" aria-label="模块化"><!--[--><!--]--> 模块化 <!--[--><!--]--></a><!----></li><li><a href="/./frontend/javascript/dependency_injection.html" class="sidebar-item" aria-label="依赖注入"><!--[--><!--]--> 依赖注入 <!--[--><!--]--></a><!----></li><li><a href="/./frontend/javascript/reg_grammar.html" class="sidebar-item" aria-label="Javascript正则表达式语法"><!--[--><!--]--> Javascript正则表达式语法 <!--[--><!--]--></a><!----></li><li><a href="/./frontend/javascript/js_basic/history.md" class="sidebar-item" aria-label="JavaScript 高级程序设计——读书笔记"><!--[--><!--]--> JavaScript 高级程序设计——读书笔记 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/./frontend/javascript/js_basic/history.html" class="sidebar-item" aria-label="JavaScript 的历史"><!--[--><!--]--> JavaScript 的历史 <!--[--><!--]--></a><!----></li><li><a href="/./frontend/javascript/js_basic/version.html" class="sidebar-item" aria-label="JavaScript 的版本"><!--[--><!--]--> JavaScript 的版本 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Css <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/./frontend/css/vw_vh.html" class="sidebar-item" aria-label="通过vw、vh来实现自适应"><!--[--><!--]--> 通过vw、vh来实现自适应 <!--[--><!--]--></a><!----></li><li><a href="/./frontend/css/flexible.html" class="sidebar-item" aria-label="Flexible.js 自适应方案"><!--[--><!--]--> Flexible.js 自适应方案 <!--[--><!--]--></a><!----></li><li><a href="/./frontend/css/miniprogram_scroll_notice.html" class="sidebar-item" aria-label="微信小程序滚动通知条"><!--[--><!--]--> 微信小程序滚动通知条 <!--[--><!--]--></a><!----></li><li><a href="/./frontend/css/flex.html" class="sidebar-item" aria-label="Flex 布局"><!--[--><!--]--> Flex 布局 <!--[--><!--]--></a><!----></li><li><a href="/./frontend/css/grid.html" class="sidebar-item" aria-label="grid 网格布局"><!--[--><!--]--> grid 网格布局 <!--[--><!--]--></a><!----></li><li><a href="/./frontend/css/scss.html" class="sidebar-item" aria-label="SCSS"><!--[--><!--]--> SCSS <!--[--><!--]--></a><!----></li><li><a href="/./frontend/css/some_example.html" class="sidebar-item" aria-label="一些例子"><!--[--><!--]--> 一些例子 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">React <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/./frontend/react/react_redux.html" class="sidebar-item" aria-label="react-redux"><!--[--><!--]--> react-redux <!--[--><!--]--></a><!----></li><li><a href="/./frontend/react/react_router_dom.html" class="sidebar-item" aria-label="react-router-dom"><!--[--><!--]--> react-router-dom <!--[--><!--]--></a><!----></li><li><a href="/./frontend/react/react_source_read.html" class="sidebar-item" aria-label="React 源码阅读相关网站"><!--[--><!--]--> React 源码阅读相关网站 <!--[--><!--]--></a><!----></li><li><a href="/./frontend/react/hooks.html" class="sidebar-item" aria-label="React Hook"><!--[--><!--]--> React Hook <!--[--><!--]--></a><!----></li><li><a href="/./frontend/react/next.html" class="sidebar-item" aria-label="Next.js 入门"><!--[--><!--]--> Next.js 入门 <!--[--><!--]--></a><!----></li><li><a href="/./frontend/react/hole.html" class="sidebar-item" aria-label="踩过的坑 🕳️"><!--[--><!--]--> 踩过的坑 🕳️ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Webpack <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/./frontend/webpack/summary.html" class="sidebar-item" aria-label="Webpack 4"><!--[--><!--]--> Webpack 4 <!--[--><!--]--></a><!----></li><li><a href="/./frontend/webpack/tapable_module.html" class="sidebar-item" aria-label="Webpack tapable 模块"><!--[--><!--]--> Webpack tapable 模块 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">网络 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/./frontend/network/http.html" class="sidebar-item" aria-label="HTTP 协议"><!--[--><!--]--> HTTP 协议 <!--[--><!--]--></a><!----></li><li><a href="/./frontend/network/ajax.html" class="sidebar-item" aria-label="Ajax 异步请求与数据交互"><!--[--><!--]--> Ajax 异步请求与数据交互 <!--[--><!--]--></a><!----></li><li><a href="/./frontend/network/websockets.html" class="sidebar-item" aria-label="Websockets"><!--[--><!--]--> Websockets <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">算法 <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/./frontend/algorithm/sort_search.html" class="sidebar-item" aria-label="排序和查找"><!--[--><!--]--> 排序和查找 <!--[--><!--]--></a><!----></li><li><a href="/./frontend/algorithm/linear.html" class="sidebar-item" aria-label="线性结构"><!--[--><!--]--> 线性结构 <!--[--><!--]--></a><!----></li><li><a href="/./frontend/algorithm/tree.html" class="sidebar-item" aria-label="树形结构"><!--[--><!--]--> 树形结构 <!--[--><!--]--></a><!----></li><li><a href="/./frontend/algorithm/graph.html" class="sidebar-item" aria-label="图结构"><!--[--><!--]--> 图结构 <!--[--><!--]--></a><!----></li><li><a href="/./frontend/algorithm/greed_dynamic.html" class="sidebar-item" aria-label="贪心算法和动态规划"><!--[--><!--]--> 贪心算法和动态规划 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Canvas <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/./frontend/canvas/" class="sidebar-item" aria-label="Canvas"><!--[--><!--]--> Canvas <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Typescript <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/./frontend/typescript/" class="sidebar-item" aria-label="TypeScript"><!--[--><!--]--> TypeScript <!--[--><!--]--></a><!----></li><li><a href="/./frontend/typescript/exercise.html" class="sidebar-item" aria-label="TS 练习题"><!--[--><!--]--> TS 练习题 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/./frontend/babel.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="Babel"><!--[--><!--]--> Babel <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/./frontend/babel.html#基本原理" class="router-link-active router-link-exact-active sidebar-item" aria-label="基本原理"><!--[--><!--]--> 基本原理 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/./frontend/babel.html#ast-在-babel-中的应用" class="router-link-active router-link-exact-active sidebar-item" aria-label="AST 在 Babel 中的应用"><!--[--><!--]--> AST 在 Babel 中的应用 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/./frontend/babel.html#编译过程" class="router-link-active router-link-exact-active sidebar-item" aria-label="编译过程"><!--[--><!--]--> 编译过程 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/./frontend/babel.html#安装-使用" class="router-link-active router-link-exact-active sidebar-item" aria-label="安装 &amp; 使用"><!--[--><!--]--> 安装 &amp; 使用 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/./frontend/babel.html#babel-的几种安装包" class="router-link-active router-link-exact-active sidebar-item" aria-label="Babel 的几种安装包"><!--[--><!--]--> Babel 的几种安装包 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/./frontend/babel.html#插件-预设" class="router-link-active router-link-exact-active sidebar-item" aria-label="插件 &amp; 预设"><!--[--><!--]--> 插件 &amp; 预设 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/./frontend/babel.html#插件-预设排序" class="router-link-active router-link-exact-active sidebar-item" aria-label="插件 &amp; 预设排序"><!--[--><!--]--> 插件 &amp; 预设排序 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/./frontend/babel.html#常用插件-预设" class="router-link-active router-link-exact-active sidebar-item" aria-label="常用插件 &amp; 预设"><!--[--><!--]--> 常用插件 &amp; 预设 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/./frontend/babel.html#如何编写-babel-插件" class="router-link-active router-link-exact-active sidebar-item" aria-label="如何编写 Babel 插件"><!--[--><!--]--> 如何编写 Babel 插件 <!--[--><!--]--></a><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/./frontend/babel.html#插件中的访问器" class="router-link-active router-link-exact-active sidebar-item" aria-label="插件中的访问器"><!--[--><!--]--> 插件中的访问器 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/./frontend/babel.html#babel-中的-polyfill" class="router-link-active router-link-exact-active sidebar-item" aria-label="Babel 中的 Polyfill"><!--[--><!--]--> Babel 中的 Polyfill <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/./frontend/rollup.html" class="sidebar-item sidebar-heading" aria-label="Rollup"><!--[--><!--]--> Rollup <!--[--><!--]--></a><!----></li><li><a href="/./frontend/jquery.html" class="sidebar-item sidebar-heading" aria-label="jQuery"><!--[--><!--]--> jQuery <!--[--><!--]--></a><!----></li><li><a href="/./frontend/bgw.html" class="sidebar-item sidebar-heading" aria-label="八股文"><!--[--><!--]--> 八股文 <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="babel" tabindex="-1"><a class="header-anchor" href="#babel" aria-hidden="true">#</a> Babel</h1><p>Babel 是一个广泛使用的 JavaScript 编译器，它可以将最新版本的 JavaScript 代码转换为旧版本的 JavaScript 代码，以便在所有浏览器或其他环境中运行。</p><p>Babel 可以通过插件的形式来支持各种语言特性和转换，例如将 ES6+ 代码转换为 ES5，或者将 JSX 语法转换为 JavaScript。</p><p>Babel 可以在浏览器和各种 Node.js 环境中运行，通常用于编译模块化的 JavaScript 代码或者 React 等库的源码。</p><p>🧭Babel 官方手册：</p><ul><li><a href="https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/user-handbook.md" target="_blank" rel="noopener noreferrer">🔗用户手册<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> － 如何安装／配置 Babel 及相关内容。</li><li><a href="https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/plugin-handbook.md" target="_blank" rel="noopener noreferrer">🔗插件手册<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> － 如何为 Babel 创建插件。</li></ul><h2 id="基本原理" tabindex="-1"><a class="header-anchor" href="#基本原理" aria-hidden="true">#</a> 基本原理</h2><p>Babel 的基本原理是通过语法分析器（如 Babylon）来解析 JavaScript 代码，然后通过插件的形式来转换代码中的语法结构。</p><p>例如，如果某个插件支持转换箭头函数，Babel 在解析源码时会标记箭头函数语法，然后在转换阶段，该插件会将箭头函数转换为普通的函数表达式。</p><p>除了转换语法之外，Babel 还可以通过插件来处理源码中的其他内容，例如处理源码中的注释，或者为代码添加额外的类型检查信息。</p><h3 id="ast-在-babel-中的应用" tabindex="-1"><a class="header-anchor" href="#ast-在-babel-中的应用" aria-hidden="true">#</a> AST 在 Babel 中的应用</h3><p>AST（Abstract Syntax Tree）是抽象语法树的缩写，它是一种表示程序代码语法结构的树形数据结构。</p><p>Babel 在解析源码时，会生成源码的 AST，然后通过插件来转换 AST 中的语法结构。</p><p>例如，如果源码中有一个箭头函数，Babel 会生成一棵表示箭头函数语法的 AST，然后在转换阶段，某个插件可以操作该 AST，将箭头函数转换为普通的函数表达式。</p><p>在某些情况下，Babel 插件开发者可能需要手动操作 AST，例如添加、删除或修改 AST 中的语法结构。Babel 提供了丰富的 API 来操作 AST，并且可以通过插件系统来集成这些 API。</p><h4 id="ast-的生成" tabindex="-1"><a class="header-anchor" href="#ast-的生成" aria-hidden="true">#</a> AST 的生成</h4><p>通过词法分析和语法分析，可以得出一颗 AST。</p><ol><li>词法分析</li></ol><p>词法分析的过程是将代码喂给有限状态机，结果是将代码单词转换为令牌（token），一个token包含的信息包括其的种类、属性值等。</p><p>例如将 <code>const a = 1 + 1</code> 转换为token的话，结果大概如下</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>[
  {type: 关键字, value: const}, 
  {type: 标识符, value: a},
  {type: 赋值操作符, value: =},
  {type: 常数, value: 1},
  {type: 运算符, value: +}, 
  {type: 常数, value: 1},
]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>语法分析</li></ol><p>面对一串代码，先通过词法分析，获得第一个 token，为其建立一个 AST 节点，此时的 AST 节点的<strong>属性</strong>以及<strong>子节点</strong>都不完整。</p><p>为了补充这些缺少的部分，接下来移动到下一个单词，生成 token，并且将其转换成子节点，添加进现有的 AST 中，然后重复这个 移动&amp;生成 的递归的过程。</p><p>让我们来看看 <code>const a = 1</code> 是怎么变成一颗 AST 的：</p><ol><li>读取 <code>const</code>，生成一个 <code>VariableDeclaration</code> 节点</li><li>读取 <code>a</code>，新建 <code>VariableDeclarator</code>节点</li><li>读取 <code>=</code></li><li>读取 <code>1</code>，新建 <code>NumericLiteral</code> 节点</li><li>将 <code>NumericLiteral</code> 赋值给 <code>VariableDeclarator</code> 的 <code>init</code> 属性</li><li>将 <code>VariableDeclarator</code> 赋值给 <code>VariableDeclaration</code> 的 <code>declaration</code> 属性</li></ol><p>转换结果：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Program&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>	<span class="token comment">// 起始列</span>
	<span class="token property">&quot;end&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token comment">// 结束列</span>
	<span class="token property">&quot;loc&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	  <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;line&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
		<span class="token property">&quot;column&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
	  <span class="token punctuation">}</span><span class="token punctuation">,</span>
	  <span class="token property">&quot;end&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;line&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
		<span class="token property">&quot;column&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
		<span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token number">11</span>
	  <span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 位置</span>
	<span class="token property">&quot;sourceType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;interpreter&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
	<span class="token property">&quot;body&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
	  <span class="token punctuation">{</span>
		<span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;VariableDeclaration&quot;</span><span class="token punctuation">,</span>
		<span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
		<span class="token property">&quot;end&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
		<span class="token property">&quot;loc&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		  <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;line&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
			<span class="token property">&quot;column&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
			<span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
		  <span class="token punctuation">}</span><span class="token punctuation">,</span>
		  <span class="token property">&quot;end&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token property">&quot;line&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
			<span class="token property">&quot;column&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
			<span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token number">11</span>
		  <span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token property">&quot;kind&quot;</span><span class="token operator">:</span> <span class="token string">&quot;const&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 关键字</span>
		<span class="token property">&quot;declarations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
		  <span class="token punctuation">{</span>
			<span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;VariableDeclarator&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 变量声明符</span>
			<span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
			<span class="token property">&quot;end&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
			<span class="token property">&quot;loc&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			  <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token property">&quot;line&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
				<span class="token property">&quot;column&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
				<span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token number">6</span>
			  <span class="token punctuation">}</span><span class="token punctuation">,</span>
			  <span class="token property">&quot;end&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token property">&quot;line&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
				<span class="token property">&quot;column&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
				<span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token number">11</span>
			  <span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Identifier&quot;</span><span class="token punctuation">,</span>
			  <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
			  <span class="token property">&quot;end&quot;</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
			  <span class="token property">&quot;loc&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				  <span class="token property">&quot;line&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
				  <span class="token property">&quot;column&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
				  <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token number">6</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token property">&quot;end&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				  <span class="token property">&quot;line&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
				  <span class="token property">&quot;column&quot;</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
				  <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token number">7</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token property">&quot;identifierName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span>
			  <span class="token punctuation">}</span><span class="token punctuation">,</span>
			  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;a&quot;</span> <span class="token comment">// 变量名</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token property">&quot;init&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;NumericLiteral&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 数字字面量</span>
			  <span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
			  <span class="token property">&quot;end&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
			  <span class="token property">&quot;loc&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				  <span class="token property">&quot;line&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
				  <span class="token property">&quot;column&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
				  <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token number">10</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token property">&quot;end&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				  <span class="token property">&quot;line&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
				  <span class="token property">&quot;column&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
				  <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token number">11</span>
				<span class="token punctuation">}</span>
			  <span class="token punctuation">}</span><span class="token punctuation">,</span>
			  <span class="token property">&quot;extra&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token property">&quot;rawValue&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
				<span class="token property">&quot;raw&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span>
			  <span class="token punctuation">}</span><span class="token punctuation">,</span>
			  <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token comment">// 值</span>
			<span class="token punctuation">}</span>
		  <span class="token punctuation">}</span>
		<span class="token punctuation">]</span><span class="token punctuation">,</span>
	  <span class="token punctuation">}</span>
	<span class="token punctuation">]</span><span class="token punctuation">,</span>
	<span class="token property">&quot;directives&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="编译过程" tabindex="-1"><a class="header-anchor" href="#编译过程" aria-hidden="true">#</a> 编译过程</h3><p>代码编译的过程分为三步，接（parse）、化（transform）、发（generate）</p><ul><li><code>parse</code> 的过程则是将代码从字符串转化为树状结构的 AST。</li><li><code>transform</code> 则是对 AST 节点进行遍历，遍历的过程中对 AST 进行修改。</li><li><code>generate</code> 则是将被修改过的 AST，重新生成为代码。</li></ul><h2 id="安装-使用" tabindex="-1"><a class="header-anchor" href="#安装-使用" aria-hidden="true">#</a> 安装 &amp; 使用</h2><p>可以使用以下命令来安装 Babel：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev @babel/core @babel/cli
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>安装完成后，就可以使用 Babel 编译 JavaScript 代码了。下面是一个例子，展示了如何使用 Babel 将 <code>ES6</code> 代码编译成 <code>ES5</code> 代码：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 原始代码（使用了 ES6 的语法）</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> x <span class="token operator">*</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 编译后的代码（使用了 ES5 的语法）</span>
<span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">*</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>要将 <code>ES6</code> 代码编译成 <code>ES5</code>，需要创建一个名为 <code>.babelrc</code> 的文件，并在这个文件中指定需要使用的预设和插件。例如，要使用 Babel 的 ES6 转换插件，可以在 <code>.babelrc</code> 文件中添加如下内容：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后，可以使用 <code>babel</code> 命令行工具来编译你的代码，例如：</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>npx src/script.js --out-file dist/script.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这样，Babel 就会读取 <code>src/script.js</code> 文件，并将编译后的代码写入到 <code>dist/script.js</code> 文件</p><h3 id="babel-的几种安装包" tabindex="-1"><a class="header-anchor" href="#babel-的几种安装包" aria-hidden="true">#</a> Babel 的几种安装包</h3><ul><li><p><a href="https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/user-handbook.md#babel-cli" target="_blank" rel="noopener noreferrer">babel-cli<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> - Babel 的 CLI 是一种在命令行下使用 Babel 编译文件的简单方法。</p></li><li><p><a href="https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/user-handbook.md#babel-register" target="_blank" rel="noopener noreferrer">babel-register<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> - 只需要引入文件就可以运行 Babel，或许能更好地融入你的项目设置。</p></li><li><p><a href="https://github.com/jamiebuilds/babel-handbook/blob/master/translations/en/user-handbook.md#toc-babel-node" target="_blank" rel="noopener noreferrer">babel-node<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> - 用 <code>babel-node</code> 来替代 <code>node</code> 运行所有的代码，就像这样 <code>npx babel-node index.js</code>。</p></li><li><p><a href="https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/user-handbook.md#babel-core" target="_blank" rel="noopener noreferrer">babel-core<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 如果你需要以编程的方式来使用 Babel，可以使用 <code>babel-core </code>这个包。</p></li></ul><h2 id="插件-预设" tabindex="-1"><a class="header-anchor" href="#插件-预设" aria-hidden="true">#</a> 插件 &amp; 预设</h2><p>在 Babel 中，插件和预设都是用来扩展 Babel 的功能的小型模块。</p><ul><li><strong>插件</strong>通常是用来做某些特定的事情的，例如将箭头函数转换成函数表达式、将扩展运算符转换成 <code>.apply()</code> 方法、将 <code>ES6</code> 的类转换成构造函数等。</li><li><strong>预设</strong>则是一组插件的集合，它通常包含了一系列相关的插件，用来实现某种特定的功能。</li></ul><p>例如，<code>@babel/preset-env</code> 预设包含了多个插件，用来实现将 <code>ES6</code> 代码转换成 <code>ES5</code> 代码的功能。这个预设包含了许多子插件，每个子插件都可以将一种特定的 <code>ES6</code> 特性转换成 <code>ES5</code> 的代码。如果你想要使用这个预设，只需要在 <code>.babelrc</code> 文件中指定使用 <code>@babel/preset-env</code> 预设即可。</p><p>如果想要使用某个插件，可以在 <code>.babelrc</code> 文件中指定要使用的插件。例如，如果想要使用 <code>@babel/plugin-transform-arrow-functions</code> 插件，可以在 <code>.babelrc</code> 文件中添加如下内容：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/plugin-transform-arrow-functions&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果想要使用某个预设，也可以在 <code>.babelrc</code> 文件中指定要使用的预设。</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="插件-预设排序" tabindex="-1"><a class="header-anchor" href="#插件-预设排序" aria-hidden="true">#</a> 插件 &amp; 预设排序</h3><ul><li>插件在预设之前运行。</li><li>插件排序是从第一个到最后一个。</li><li>预设顺序是颠倒的（最后一个到第一个）。</li></ul><p>示例:</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;transform-decorators-legacy&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;transform-class-properties&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将先运行 <code>transform-decorators-legacy</code> 再运行 <code>transform-class-properties</code>。</p><p>重要的是要记住，使用预设时，顺序是 <strong>颠倒</strong> 的。例如下面：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;@babel/preset-react&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将按以下顺序运行：先 <code>@babel/preset-react</code> 再 <code>@babel/preset-env</code>。</p><h3 id="常用插件-预设" tabindex="-1"><a class="header-anchor" href="#常用插件-预设" aria-hidden="true">#</a> 常用插件 &amp; 预设</h3><p>常用的 Babel 插件包括：</p><ul><li><code>babel-plugin-transform-arrow-functions</code>：转换箭头函数</li><li><code>babel-plugin-transform-object-rest-spread</code>：支持对象的扩展运算符</li><li><code>babel-plugin-transform-class-properties</code>：支持在类中定义静态属性</li><li><code>babel-plugin-transform-async-to-generator</code>：将 async/await 转换为 generator 函数</li></ul><p>常用的 Babel 预设包括：</p><ul><li><code>@babel/preset-env</code>：根据目标环境自动转换代码</li><li><code>@babel/preset-react</code>：支持 JSX 语法和 React 特有的语法</li><li><code>@babel/preset-typescript</code>：支持 TypeScript 语法</li></ul><p>使用 Babel 时，可以通过在配置文件（如 <code>.babelrc</code>）中指定插件和预设来安装它们。例如：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;transform-arrow-functions&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;transform-object-rest-spread&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;@babel/preset-react&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="如何编写-babel-插件" tabindex="-1"><a class="header-anchor" href="#如何编写-babel-插件" aria-hidden="true">#</a> 如何编写 Babel 插件</h2><p>要编写一个 Babel 插件，需要实现一个 JavaScript 函数，该函数接收一个 Babel 的抽象语法树（AST）作为输入，并返回一个修改后的 AST。</p><p><a href="https://github.com/jamiebuilds/babel-handbook/blob/master/translations/zh-Hans/plugin-handbook.md" target="_blank" rel="noopener noreferrer">🔗 插件编写官方文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>以下是一个简单的 Babel 插件示例，该插件可以将所有字符串中的 &quot;Hello&quot; 替换为 &quot;Goodbye&quot;。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// babel-plugins/my-babel-plugin.js</span>
<span class="token keyword">function</span> <span class="token function">myBabelPlugin</span><span class="token punctuation">(</span><span class="token parameter">babel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">types</span><span class="token operator">:</span> t <span class="token punctuation">}</span> <span class="token operator">=</span> babel<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;my-babel-plugin&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">visitor</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">StringLiteral</span><span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>path<span class="token punctuation">.</span>node<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          path<span class="token punctuation">.</span>node<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&quot;Goodbye&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> myBabelPlugin<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在上面的代码中，我们定义了一个函数 <code>myBabelPlugin</code>，它接收一个 Babel 的实例作为参数，并返回一个对象。该对象拥有两个属性：<code>name</code> 和 <code>visitor</code>。</p><ul><li><code>name</code> 属性用于指定插件的名称。</li><li><code>visitor</code> 属性是一个对象，它用于定义插件对语法树中不同类型的节点进行的访问和操作。在上面的例子中，我们定义了一个 <code>StringLiteral</code> 的访问器，用于处理字符串节点，并将所有值为 &quot;Hello&quot; 的字符串节点替换为 &quot;Goodbye&quot;。</li></ul><p>最后，我们通过 <code>module.exports</code> 将 <code>myBabelPlugin</code> 函数暴露出去，以便在其它地方使用。</p><p>要使用在本地文件中编写的插件，需要指定插件的路径。例如，如果我们的插件存储在 <code>./babel-plugins/my-babel-plugin.js</code> 文件中，那么我们可以在 <code>.babelrc</code> 文件中添加如下内容：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;./babel-plugins/my-babel-plugin.js&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这样，Babel 就会在编译 JavaScript 代码时使用我们定义的插件。</p><p>需要注意的是，在指定插件路径时，可以使用相对路径或绝对路径。如果使用相对路径，则相对于项目根目录。例如，上面的例子中的相对路径为 <code>./babel-plugins/my-babel-plugin.js</code>，它表示在项目根目录下的 <code>babel-plugins</code> 目录中的 <code>my-babel-plugin.js</code> 文件。</p><p>另外，需要确保插件文件具有正确的模块导出方式，以便 Babel 能够识别并使用它。例如，上面的例子中，我们通过 <code>module.exports = myBabelPlugin</code> 将插件函数暴露出去。这样，Babel 就能够识别并使用这个插件。</p><div class="custom-container tip"><p class="custom-container-title">提示</p><p>除了上面提到的 <code>name</code> 和 <code>visitor</code> 属性外，Babel 插件还可以定义其它属性，例如：</p><ul><li><code>pre</code> 属性：用于定义在编译之前要执行的函数。</li><li><code>post</code> 属性：用于定义在编译之后要执行的函数。</li><li><code>manipulateOptions</code> 属性：用于定义一个函数，在 Babel 读取配置选项时调用该函数。</li></ul><p>例如，下面的插件使用 <code>manipulateOptions</code> 属性来修改 Babel 的默认配置：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">myBabelPlugin</span><span class="token punctuation">(</span><span class="token parameter">babel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">types</span><span class="token operator">:</span> t <span class="token punctuation">}</span> <span class="token operator">=</span> babel<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;my-babel-plugin&quot;</span><span class="token punctuation">,</span>
    <span class="token function">manipulateOptions</span><span class="token punctuation">(</span><span class="token parameter">opts<span class="token punctuation">,</span> parserOpts</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      parserOpts<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;dynamicImport&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> myBabelPlugin<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这个例子中，我们通过 <code>manipulateOptions</code> 属性指定了一个函数，该函数会在 Babel 读取配置选项时被调用。我们在该函数中将 <code>parserOpts.plugins</code> 数组添加了 &quot;dynamicImport&quot; 插件，从而在编译时启用了对动态导入语法的支持。</p><p>通过定义这些属性，我们可以让 Babel 插件完成更多复杂的功能。例如，我们可以定义一个插件来转换所有的箭头函数，或者定义一个插件来优化代码结构，或者定义一个插件来检查代码中的语法错误等。</p></div><p>总之，编写 Babel 插件需要实现一个函数，该函数接收一个 Babel 的实例和抽象语法树（AST）作为参数，并返回一个修改后的 AST。</p><p>通过定义插件的 <code>name</code>、<code>visitor</code> 和其它属性，我们可以实现多种功能，如转换语法、优化代码结构、检查语法错误等。</p><p>要在 Babel 中使用这个插件，需要在配置文件（如 .babelrc）中指定插件的名称或路径。如果插件来自 npm 包，则需要先安装它。如果插件来自本地文件，则需要指定插件的相对或绝对路径。</p><p>通过这些步骤，我们就可以编写并使用自己的 Babel 插件。</p><h3 id="插件中的访问器" tabindex="-1"><a class="header-anchor" href="#插件中的访问器" aria-hidden="true">#</a> 插件中的访问器</h3><p>Babel 插件中的访问器分为两类：一类是针对特定类型的节点，如 <code>StringLiteral</code>、<code>Identifier</code> 等；另一类是针对语句或表达式的访问器，如 <code>Function</code>、<code>Conditional</code>、<code>BinaryExpression</code> 等。</p><p>在定义访问器时，我们需要根据需求选择适当的访问器类型，并定义操作逻辑。例如，我们可以定义一个 <code>Function</code> 类型的访问器，用于检查函数中是否存在重复的参数：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">myBabelPlugin</span><span class="token punctuation">(</span><span class="token parameter">babel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">types</span><span class="token operator">:</span> t <span class="token punctuation">}</span> <span class="token operator">=</span> babel<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;my-babel-plugin&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">visitor</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">Function</span><span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> paramSet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> param <span class="token keyword">of</span> path<span class="token punctuation">.</span>node<span class="token punctuation">.</span>params<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>paramSet<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>param<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Duplicate parameter: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>param<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          paramSet<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>param<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> myBabelPlugin<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在上面的例子中，我们定义了一个 <code>Function</code> 类型的访问器，该访问器会在遍历到函数节点时被调用。在访问器中，我们首先创建了一个 <code>Set</code> 对象，用于保存函数的参数。然后，我们遍历了函数的参数列表，并使用 <code>Set.has()</code> 和 <code>Set.add()</code> 方法检查和保存参数。如果发现重复的参数，则抛出一个错误。</p><p>除了上面提到的访问器之外，Babel 还提供了许多其它类型的访问器。例如，我们可以定义一个 <code>Conditional</code> 类型的访问器，用于替换三元表达式：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">myBabelPlugin</span><span class="token punctuation">(</span><span class="token parameter">babel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token literal-property property">types</span><span class="token operator">:</span> t <span class="token punctuation">}</span> <span class="token operator">=</span> babel<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;my-babel-plugin&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">visitor</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token function">Conditional</span><span class="token punctuation">(</span><span class="token parameter">path</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> test<span class="token punctuation">,</span> consequent<span class="token punctuation">,</span> alternate <span class="token punctuation">}</span> <span class="token operator">=</span> path<span class="token punctuation">.</span>node<span class="token punctuation">;</span>
        <span class="token keyword">const</span> ifStatement <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">ifStatement</span><span class="token punctuation">(</span>test<span class="token punctuation">,</span> t<span class="token punctuation">.</span><span class="token function">blockStatement</span><span class="token punctuation">(</span><span class="token punctuation">[</span>consequent<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>alternate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          ifStatement<span class="token punctuation">.</span>alternate <span class="token operator">=</span> t<span class="token punctuation">.</span><span class="token function">ifStatement</span><span class="token punctuation">(</span>
            t<span class="token punctuation">.</span><span class="token function">unaryExpression</span><span class="token punctuation">(</span><span class="token string">&quot;!&quot;</span><span class="token punctuation">,</span> test<span class="token punctuation">)</span><span class="token punctuation">,</span>
            t<span class="token punctuation">.</span><span class="token function">blockStatement</span><span class="token punctuation">(</span><span class="token punctuation">[</span>alternate<span class="token punctuation">]</span><span class="token punctuation">)</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        path<span class="token punctuation">.</span><span class="token function">replaceWith</span><span class="token punctuation">(</span>ifStatement<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> myBabelPlugin<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在上面的例子中，我们定义了一个 <code>Conditional</code> 类型的访问器，该访问器会在遍历到三元表达式时被调用。在访问器中，我们首先提取了三元表达式的 <code>test</code>、<code>consequent</code> 和 <code>alternate</code> 属性。然后，我们使用 <code>t.ifStatement()</code> 方法创建一个 <code>if</code> 语句，该语句用于替换三元表达式。</p><p>如果三元表达式有 <code>alternate</code> 属性，则我们再使用 <code>t.ifStatement()</code> 方法创建一个 <code>if</code> 语句，用于替换 <code>alternate</code> 属性。最后，我们使用 <code>path.replaceWith()</code> 方法，将三元表达式替换为新创建的 <code>if</code> 语句。</p><p>通过这些代码，我们就可以实现将三元表达式转换为 <code>if</code> 语句的功能。这只是一个简单的例子，Babel 中还有许多其它类型的访问器，并且可以通过组合多个访问器来实现更复杂的功能。</p><p>总之，Babel 插件中的访问器可以帮助我们在处理 AST 时，对不同类型的节点进行操作，从而实现多种功能。</p><h2 id="babel-中的-polyfill" tabindex="-1"><a class="header-anchor" href="#babel-中的-polyfill" aria-hidden="true">#</a> Babel 中的 Polyfill</h2><p>Polyfill 是一种代码，它可以为浏览器提供对新的 JavaScript 特性的支持。例如，如果你的代码中使用了新的语言特性，而目标浏览器并不支持该特性，那么可以使用 polyfill 来解决这个问题。polyfill 会在代码运行时动态地为目标浏览器提供对新特性的支持，从而让你的代码能够在所有浏览器中正常运行。</p><p>Polyfill 主要用于消除浏览器的差异，使得开发人员能够在所有浏览器中使用同样的 API。通常，polyfill 会检查当前浏览器是否支持某个特性，如果不支持，就会动态地为浏览器注入所需的代码，从而使得浏览器能够支持这个特性。这样，开发人员就可以使用最新的 JavaScript 特性，而不用担心兼容性问题。</p><p>Babel 用了优秀的 <a href="https://github.com/zloirock/core-js" target="_blank" rel="noopener noreferrer">core-js<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 用作 polyfill，并且还有定制化的 <a href="https://github.com/facebook/regenerator" target="_blank" rel="noopener noreferrer">regenerator<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 来让 <code>generators</code>（生成器）和 <code>async functions</code>（异步函数）正常工作。</p><p>要使用 Babel 的 polyfill，你需要安装 <code>@babel/polyfill</code> 包，然后在你的 JavaScript 代码中引入它。例如：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&quot;@babel/polyfill&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这样，Babel 就会自动为你的代码提供 polyfill 支持。</p><p>也可以通过配置 Babel 的 <code>presets</code> 选项来自动启用 polyfill，需要在 <code>.babelrc</code> 文件中进行如下配置：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上面的配置会自动启用 Babel 的 <code>@babel/preset-env</code> preset，该 preset 会根据目标浏览器的环境来自动启用 polyfill。具体来说，Babel 会检查目标浏览器的版本，并根据需要为其提供 polyfill 支持。</p><p>需要注意的是，上面的配置仅会自动启用 polyfill，并不会自动添加 polyfill 代码到你的 JavaScript 代码中。如果你希望在你的代码中直接使用 polyfill，则需要在你的代码中手动引入 <code>@babel/polyfill</code> 包。</p><p>还可以通过配置 Babel 的 <code>entry</code> 选项来自动引入 <code>@babel/polyfill</code> 包，这样就无需在每个文件中都手动引入该包了。例如，你可以在 <code>.babelrc</code> 文件中进行如下配置：</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;entry&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/polyfill&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上面的配置会自动引入 <code>@babel/polyfill</code> 包，并将其作为入口文件的第一个文件。这样，你就无需在每个文件中都手动引入该包了。</p><p>此外，还可以通过配置 Babel 的 <code>useBuiltIns</code> 选项来控制 polyfill 的使用。例如，你可以使用 <code>useBuiltIns: &quot;usage&quot;</code> 来只为需要的特性提供 polyfill 支持。这样，Babel 就不会为所有特性都提供 polyfill 支持，而是只为使用到的特性提供支持，这样可以减小代码体积。</p></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/xiaozisong/edit/main/frontend/babel.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页"><!--[--><!--]--> 编辑此页 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: xiaozis@gantsoftware.com">xiaozisong</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/./frontend/rollup.html" class="" aria-label="Rollup"><!--[--><!--]--> Rollup <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/./assets/app.1fa09df8.js" defer></script>
  </body>
</html>
