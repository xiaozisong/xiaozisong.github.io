import{_ as t,o as c,c as p,a as n,b as s,d as o,e as a,r as i}from"./app.1fa09df8.js";const l={},u=a('<h1 id="events-\u4E8B\u4EF6\u89E6\u53D1\u5668-\u6A21\u5757\u7684\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#events-\u4E8B\u4EF6\u89E6\u53D1\u5668-\u6A21\u5757\u7684\u4F7F\u7528" aria-hidden="true">#</a> events\uFF08\u4E8B\u4EF6\u89E6\u53D1\u5668\uFF09\u6A21\u5757\u7684\u4F7F\u7528</h1><p>\u5927\u591A\u6570\xA0Node.js\xA0\u6838\u5FC3\xA0API\xA0\u6784\u5EFA\u4E8E\u60EF\u7528\u7684\u5F02\u6B65\u4E8B\u4EF6\u9A71\u52A8\u67B6\u6784\uFF0C\u5176\u4E2D\u67D0\u4E9B\u7C7B\u578B\u7684\u5BF9\u8C61\uFF08\u53C8\u79F0\u89E6\u53D1\u5668\uFF0CEmitter\uFF09\u4F1A\u89E6\u53D1\u547D\u540D\u4E8B\u4EF6\u6765\u8C03\u7528\u51FD\u6570\uFF08\u53C8\u79F0\u76D1\u542C\u5668\uFF0CListener\uFF09\u3002</p><p>\u4F8B\u5982\uFF0C<code>net.Server</code>\xA0\u4F1A\u5728\u6BCF\u6B21\u6709\u65B0\u8FDE\u63A5\u65F6\u89E6\u53D1\u4E8B\u4EF6\uFF0C<code>fs.ReadStream</code>\xA0\u4F1A\u5728\u6253\u5F00\u6587\u4EF6\u65F6\u89E6\u53D1\u4E8B\u4EF6\uFF0C<code>stream</code>\xA0\u4F1A\u5728\u6570\u636E\u53EF\u8BFB\u65F6\u89E6\u53D1\u4E8B\u4EF6\u3002</p><p>\u6240\u6709\u80FD\u89E6\u53D1\u4E8B\u4EF6\u7684\u5BF9\u8C61\u90FD\u662F\xA0<code>EventEmitter</code>\xA0\u7C7B\u7684\u5B9E\u4F8B\u3002\xA0\u8FD9\u4E9B\u5BF9\u8C61\u6709\u4E00\u4E2A\xA0<code>eventEmitter.on()</code>\xA0\u51FD\u6570\uFF0C\u7528\u4E8E\u5C06\u4E00\u4E2A\u6216\u591A\u4E2A\u51FD\u6570\u7ED1\u5B9A\u5230\u547D\u540D\u4E8B\u4EF6\u4E0A\u3002\xA0\u4E8B\u4EF6\u7684\u547D\u540D\u901A\u5E38\u662F\u9A7C\u5CF0\u5F0F\u7684\u5B57\u7B26\u4E32\uFF0C\u4F46\u4E5F\u53EF\u4EE5\u4F7F\u7528\u4EFB\u4F55\u6709\u6548\u7684\xA0JavaScript\xA0\u5C5E\u6027\u952E\u3002</p>',4),r={href:"http://nodejs.cn/api/events.html#events_events",target:"_blank",rel:"noopener noreferrer"},d=a(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// events\uFF08\u4E8B\u4EF6\u89E6\u53D1\u5668\uFF09\u6A21\u5757\u7684\u4F7F\u7528</span>
<span class="token comment">// API: http://nodejs.cn/api/events.html#events_events</span>

<span class="token comment">// \u5F15\u5165 events \u4E8B\u4EF6\u89E6\u53D1\u5668\u6A21\u5757</span>
<span class="token keyword">const</span> EventEmitter <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;events&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u521B\u5EFA MyEmitter \u7C7B\uFF0C\u7EE7\u627F\u81EA EventEmitter</span>
<span class="token keyword">class</span> <span class="token class-name">MyEmitter</span> <span class="token keyword">extends</span> <span class="token class-name">EventEmitter</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// \u5B9E\u4F8B\u5316 myEmitter \u7C7B</span>
<span class="token keyword">const</span> myEmitter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyEmitter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u6CE8\u518C\u4E8B\u4EF6\uFF08\u9ED8\u8BA4\u4E3A\u540C\u6B65\u4E8B\u4EF6\uFF09</span>
<span class="token comment">// myEmitter.on(&#39;event&#39;, (str) =&gt; {</span>
<span class="token comment">//     console.log(&#39;\u6CE8\u518C\u4E8B\u4EF6event&#39;);</span>
<span class="token comment">//     console.log(\`\u63A5\u6536\u7684\u53C2\u6570\u4E3A\uFF1A\${str}\`);</span>
<span class="token comment">// });</span>

<span class="token comment">// \u6CE8\u518C\u5F02\u6B65\u4E8B\u4EF6</span>
myEmitter<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;event&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setImmediate</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u89E6\u53D1\u4E8B\u4EF6</span>
myEmitter<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;event&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u6B64\u53C2\u6570\u4F1A\u4F20\u9012\u5230\u6CE8\u518C\u4E8B\u4EF6\u65F6\u7684\u56DE\u8C03\u51FD\u6570\u4E2D&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u5982\u679C\u662F\u540C\u6B65\u4E8B\u4EF6\uFF0C\u6211\u5C06\u5728\u6700\u540E\u88AB\u8F93\u51FA\uFF1B\u5982\u679C\u662F\u5F02\u6B65\u4E8B\u4EF6\uFF0C\u6211\u5C06\u5728\u524D\u9762\u88AB\u8F93\u51FA&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u5F02\u6B65\u8FD0\u884C\u7ED3\u679C</span>
<span class="token comment">// \u5982\u679C\u662F\u540C\u6B65\u4E8B\u4EF6\uFF0C\u6211\u5C06\u5728\u6700\u540E\u88AB\u8F93\u51FA\uFF1B\u5982\u679C\u662F\u5F02\u6B65\u4E8B\u4EF6\uFF0C\u6211\u5C06\u5728\u524D\u9762\u88AB\u8F93\u51FA</span>
<span class="token comment">// \u6B64\u53C2\u6570\u4F1A\u4F20\u9012\u5230\u6CE8\u518C\u4E8B\u4EF6\u65F6\u7684\u56DE\u8C03\u51FD\u6570\u4E2D</span>

<span class="token comment">// \u540C\u6B65\u8FD0\u884C\u7ED3\u679C</span>
<span class="token comment">// \u6CE8\u518C\u4E8B\u4EF6event</span>
<span class="token comment">// \u63A5\u6536\u7684\u53C2\u6570\u4E3A\uFF1A\u6B64\u53C2\u6570\u4F1A\u4F20\u9012\u5230\u6CE8\u518C\u4E8B\u4EF6\u65F6\u7684\u56DE\u8C03\u51FD\u6570\u4E2D</span>
<span class="token comment">// \u5982\u679C\u662F\u540C\u6B65\u4E8B\u4EF6\uFF0C\u6211\u5C06\u5728\u6700\u540E\u88AB\u8F93\u51FA\uFF1B\u5982\u679C\u662F\u5F02\u6B65\u4E8B\u4EF6\uFF0C\u6211\u5C06\u5728\u524D\u9762\u88AB\u8F93\u51FA</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1);function m(v,k){const e=i("ExternalLinkIcon");return c(),p("div",null,[u,n("p",null,[s("API:\xA0"),n("a",r,[s("http://nodejs.cn/api/events.html#events_events"),o(e)])]),d])}var _=t(l,[["render",m],["__file","events.html.vue"]]);export{_ as default};
