import{_ as r,o,c as l,a as n,b as s,d as t,e as a,r as i}from"./app.907eeeb1.js";const p={},c=a('<h1 id="fx-mr-cli" tabindex="-1"><a class="header-anchor" href="#fx-mr-cli" aria-hidden="true">#</a> fx-mr-cli</h1><p><code>fx-mr-cli</code> \u662F\u4E00\u4E2A GitLab Merge Request \u547D\u4EE4\u884C\u5DE5\u5177\uFF0C\u80FD\u591F\u5E2E\u52A9\u6211\u4EEC\u5728\u547D\u4EE4\u884C\u4E2D\u4EA4\u4E92\u5F0F\u521B\u5EFA Merge Reqeust\uFF0C\u4F7F Code Review \u6D41\u7A0B\u66F4\u7B80\u6D01\u9AD8\u6548\u3002</p><h2 id="\u5982\u4F55\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#\u5982\u4F55\u4F7F\u7528" aria-hidden="true">#</a> \u5982\u4F55\u4F7F\u7528\uFF1F</h2><h3 id="_1-\u5168\u5C40\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#_1-\u5168\u5C40\u5B89\u88C5" aria-hidden="true">#</a> 1. \u5168\u5C40\u5B89\u88C5</h3>',4),d={href:"https://fenxianglife.yuque.com/technical-team/front/enhgqg",target:"_blank",rel:"noopener noreferrer"},u=a(`<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">npm</span> <span class="token function">install</span> fx-mr-cli <span class="token parameter variable">-g</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-\u914D\u7F6E-gitlab-token" tabindex="-1"><a class="header-anchor" href="#_2-\u914D\u7F6E-gitlab-token" aria-hidden="true">#</a> 2. \u914D\u7F6E GitLab token</h3>`,2),m={href:"https://fenxianglife.yuque.com/technical-team/front/dnoalf#b81f1344",target:"_blank",rel:"noopener noreferrer"},v=a(`<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>mr token <span class="token operator">&lt;</span>\u4F60\u7684token<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-\u5728\u9879\u76EE\u6839\u76EE\u5F55\u4E0B\u521B\u5EFA\u914D\u7F6E\u6587\u4EF6-mrconfig-js-\u8BE6\u7EC6\u5B57\u6BB5\u8BF4\u660E\u89C1\u4E0B\u65B9\u8868\u683C" tabindex="-1"><a class="header-anchor" href="#_3-\u5728\u9879\u76EE\u6839\u76EE\u5F55\u4E0B\u521B\u5EFA\u914D\u7F6E\u6587\u4EF6-mrconfig-js-\u8BE6\u7EC6\u5B57\u6BB5\u8BF4\u660E\u89C1\u4E0B\u65B9\u8868\u683C" aria-hidden="true">#</a> 3. \u5728\u9879\u76EE\u6839\u76EE\u5F55\u4E0B\u521B\u5EFA\u914D\u7F6E\u6587\u4EF6 <code>.mrconfig.js</code>\uFF0C\u8BE6\u7EC6\u5B57\u6BB5\u8BF4\u660E\u89C1\u4E0B\u65B9\u8868\u683C</h3><blockquote><p>\u9879\u76EE\u914D\u7F6E\u6587\u4EF6\u4E3B\u8981\u5B57\u6BB5\u662F <code>projectId</code>\uFF0C\u6B64ID\u7684\u4F5C\u7528\u662F\u6807\u8BC6\u5F53\u524D\u9879\u76EE\uFF0C\u521B\u5EFAMR\u65F6\u544A\u8BC9GitLab\u64CD\u4F5C\u7684\u662F\u54EA\u4E2A\u9879\u76EE</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// .mrconfig.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// GitLab \u9879\u76EEID</span>
  <span class="token literal-property property">projectId</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u4E0D\u60F3\u521B\u5EFA\u914D\u7F6E\u6587\u4EF6\uFF0C\u4E5F\u53EF\u4EE5\u5728\u9879\u76EE\u7684 <code>package.json</code> \u6587\u4EF6\u4E2D\u589E\u52A0 <code>mrConfig</code> \u5C5E\u6027\uFF0C\u8BE5\u5C5E\u6027\u7684\u914D\u7F6E\u540C\u4E0A</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// package.json</span>
<span class="token punctuation">{</span>
  ...
  <span class="token property">&quot;mrConfig&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;projectId&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F18\u5148\u7EA7\u4E3A <code>.mrconfig.js</code> &gt; <code>package.json[mrConfig]</code></p><h4 id="mrconfig-js-\u914D\u7F6E\u6587\u4EF6\u5B57\u6BB5\u8BF4\u660E" tabindex="-1"><a class="header-anchor" href="#mrconfig-js-\u914D\u7F6E\u6587\u4EF6\u5B57\u6BB5\u8BF4\u660E" aria-hidden="true">#</a> .mrconfig.js \u914D\u7F6E\u6587\u4EF6\u5B57\u6BB5\u8BF4\u660E</h4><table><thead><tr><th>\u5B57\u6BB5</th><th>\u8BF4\u660E</th><th>\u5FC5\u586B</th><th>\u7C7B\u578B</th><th>\u9ED8\u8BA4</th></tr></thead><tbody><tr><td>gitlabUrl</td><td>\u6258\u7BA1\u5F53\u524D\u9879\u76EE\u7684GitLab\u4E3B\u9875\u5730\u5740(\u975E\u9879\u76EE\u5730\u5740)</td><td>\u5426</td><td><code>string</code></td><td><code>&#39;https://gitlab.fenxianglife.com&#39;</code></td></tr><tr><td>projectId</td><td>\u5F53\u524D\u9879\u76EE\u5728GitLab\u4E0A\u7684ID</td><td>\u662F</td><td><code>number</code></td><td></td></tr><tr><td>sourceBranch</td><td>\u53D1\u8D77MR\u7684\u6E90\u5206\u652F\uFF0C\u9ED8\u8BA4\u5F53\u524D\u5206\u652F</td><td>\u5426</td><td><code>string</code></td><td></td></tr><tr><td>targetBranch</td><td>\u53D1\u8D77MR\u7684\u76EE\u6807\u5206\u652F\uFF0C\u9ED8\u8BA4develop</td><td>\u5426</td><td><code>string</code></td><td><code>&#39;develop&#39;</code></td></tr></tbody></table><h3 id="_4-\u8FD0\u884C\u811A\u672C-\u90E8\u5206\u547D\u4EE4\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#_4-\u8FD0\u884C\u811A\u672C-\u90E8\u5206\u547D\u4EE4\u793A\u4F8B" aria-hidden="true">#</a> 4. \u8FD0\u884C\u811A\u672C\uFF0C\u90E8\u5206\u547D\u4EE4\u793A\u4F8B</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u521B\u5EFA MR</span>
mr

<span class="token comment"># \u8BBE\u7F6E token</span>
mr token <span class="token operator">&lt;</span>token<span class="token operator">&gt;</span>

<span class="token comment"># \u67E5\u770B token</span>
mr token

<span class="token comment"># \u67E5\u770B\u7528\u6237</span>
mr user get <span class="token parameter variable">--id</span><span class="token operator">=</span>xxx

<span class="token comment"># \u67E5\u770B\u6240\u6709\u7528\u6237</span>
mr user list

<span class="token comment"># \u67E5\u770B\u9879\u76EE</span>
mr dtu get xxx

<span class="token comment"># \u67E5\u770B\u6240\u6709\u9879\u76EE</span>
mr dtu list

<span class="token comment"># \u67E5\u770B\u5E2E\u52A9\u4FE1\u606F</span>
mr <span class="token parameter variable">-h</span>

<span class="token comment"># mr user \u5B50\u547D\u4EE4\u5E2E\u52A9\u4FE1\u606F</span>
mr user <span class="token parameter variable">-h</span>

<span class="token comment"># mr dtu \u5B50\u547D\u4EE4\u5E2E\u52A9\u4FE1\u606F</span>
mr dtu <span class="token parameter variable">-h</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u83B7\u53D6\u5E2E\u52A9\u83DC\u5355" tabindex="-1"><a class="header-anchor" href="#\u83B7\u53D6\u5E2E\u52A9\u83DC\u5355" aria-hidden="true">#</a> \u83B7\u53D6\u5E2E\u52A9\u83DC\u5355</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ mr <span class="token parameter variable">-h</span>

\u4F7F\u7528: mr <span class="token punctuation">[</span>\u547D\u4EE4<span class="token punctuation">]</span> <span class="token operator">&lt;</span>\u9009\u9879<span class="token operator">&gt;</span>

\u547D\u4EE4\uFF1A
  mr token <span class="token punctuation">[</span>token<span class="token punctuation">]</span>  \u67E5\u770B/\u8BBE\u7F6EGitLab Token
  mr user <span class="token operator">&lt;</span>\u547D\u4EE4<span class="token operator">&gt;</span>    \u64CD\u4F5C\u7528\u6237\u6570\u636E
  mr dtu <span class="token operator">&lt;</span>\u547D\u4EE4<span class="token operator">&gt;</span>     \u64CD\u4F5CGitLab\u9879\u76EE\u4E0E\u9489\u9489\u673A\u5668\u4EBAURL\u7684\u6620\u5C04\u6570\u636E<span class="token punctuation">(</span>DingTalkUrl<span class="token punctuation">)</span>

\u9009\u9879\uFF1A
  -v, <span class="token parameter variable">--version</span>  \u663E\u793A\u7248\u672C\u53F7                                               <span class="token punctuation">[</span>\u5E03\u5C14<span class="token punctuation">]</span>
  -h, <span class="token parameter variable">--help</span>     \u663E\u793A\u5E2E\u52A9\u4FE1\u606F                                             <span class="token punctuation">[</span>\u5E03\u5C14<span class="token punctuation">]</span>

\u793A\u4F8B\uFF1A
  $ mr               \u521B\u5EFAMR
  $ mr token         \u83B7\u53D6token
  $ mr token <span class="token number">123456</span>  \u8BBE\u7F6Etoken\u4E3A123456
  $ mr <span class="token parameter variable">-h</span>            \u663E\u793A\u5E2E\u52A9\u4FE1\u606F
  $ mr user <span class="token parameter variable">-h</span>       \u663E\u793Auser\u5B50\u547D\u4EE4\u5E2E\u52A9\u4FE1\u606F
  $ mr dtu <span class="token parameter variable">-h</span>        \u663E\u793Adtu\u5B50\u547D\u4EE4\u5E2E\u52A9\u4FE1\u606F
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="mr-user-\u64CD\u4F5C\u7528\u6237\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#mr-user-\u64CD\u4F5C\u7528\u6237\u6570\u636E" aria-hidden="true">#</a> mr user \u64CD\u4F5C\u7528\u6237\u6570\u636E</h2><p><code>mr user</code> \u5B50\u547D\u4EE4\u7528\u4E8E\u64CD\u4F5C\u670D\u52A1\u7AEF\u7684\u7528\u6237\u6570\u636E\uFF0C\u5305\u62EC\u589E\u3001\u5220\u3001\u6539\u3001\u67E5\u7B49\u3002</p><blockquote><p>\u670D\u52A1\u7AEF\u7684\u7528\u6237\u6570\u636E\u4E3B\u8981\u7528\u4E8E\u5EFA\u7ACB<strong>GitLab\u7528\u6237</strong>\u4E0E<strong>\u9489\u9489\u7528\u6237</strong>\u7684\u6620\u5C04\u5173\u7CFB\uFF0C\u5B9E\u73B0\u5C06<strong>GitLab\u4E0A\u7528\u6237\u7684\u64CD\u4F5C</strong>\u63A8\u9001\u6D88\u606F\u5230<strong>\u9489\u9489\u7FA4\u5BF9\u5E94\u7684\u4EBA</strong>\u3002</p></blockquote><p><code>mr user</code> \u547D\u4EE4\u5E2E\u52A9\u83DC\u5355\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ mr user <span class="token parameter variable">-h</span>

mr user <span class="token operator">&lt;</span>\u547D\u4EE4<span class="token operator">&gt;</span>

\u64CD\u4F5C\u7528\u6237\u6570\u636E

\u547D\u4EE4\uFF1A
  mr user get <span class="token punctuation">[</span>--\u9009\u9879<span class="token punctuation">]</span>                                     \u67E5\u770B\u7528\u6237\uFF0C\u6839\u636E <span class="token function">id</span> <span class="token operator">|</span> username <span class="token operator">|</span> mobile \u67E5\u8BE2
  mr user list                                             \u67E5\u770B\u5168\u90E8\u7528\u6237
  mr user <span class="token builtin class-name">set</span> <span class="token operator">&lt;</span>id<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>username<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>mobile<span class="token operator">&gt;</span>              \u8BBE\u7F6E\u7528\u6237\uFF0C\u53C2\u6570\u89E3\u91CA: <span class="token operator">&lt;</span>GitLab\u7528\u6237ID<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>\u4F60\u7684\u540D\u5B57<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>GitLab username<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>\u624B\u673A\u53F7<span class="token operator">&gt;</span>
  mr user update <span class="token operator">&lt;</span>old_id<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>id<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>name<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>username<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>mobile<span class="token operator">&gt;</span>  \u66F4\u65B0\u7528\u6237\uFF0C\u53C2\u6570\u89E3\u91CA: <span class="token operator">&lt;</span>GitLab\u7528\u6237ID<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>\u65B0\u7684GitLab\u7528\u6237ID<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>\u4F60\u7684\u540D\u5B57<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>GitLab username<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>\u624B\u673A\u53F7<span class="token operator">&gt;</span>
  mr user delete <span class="token operator">&lt;</span>id<span class="token operator">&gt;</span>                                      \u5220\u9664\u7528\u6237\uFF0C\u53C2\u6570\u89E3\u91CA: <span class="token operator">&lt;</span>GitLab\u7528\u6237ID<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="mr-dtu-\u64CD\u4F5Cgitlab\u9879\u76EE\u4E0E\u9489\u9489\u673A\u5668\u4EBAurl\u7684\u6620\u5C04\u6570\u636E" tabindex="-1"><a class="header-anchor" href="#mr-dtu-\u64CD\u4F5Cgitlab\u9879\u76EE\u4E0E\u9489\u9489\u673A\u5668\u4EBAurl\u7684\u6620\u5C04\u6570\u636E" aria-hidden="true">#</a> mr dtu \u64CD\u4F5CGitLab\u9879\u76EE\u4E0E\u9489\u9489\u673A\u5668\u4EBAURL\u7684\u6620\u5C04\u6570\u636E</h2><p><code>mr dtu</code> \u5B50\u547D\u4EE4\u7528\u4E8E\u64CD\u4F5C\u670D\u52A1\u7AEF\u7684GitLab\u9879\u76EE\u4E0E\u9489\u9489\u673A\u5668\u4EBAURL\u7684\u6620\u5C04\u6570\u636E\uFF0C\u5305\u62EC\u589E\u3001\u5220\u3001\u6539\u3001\u67E5\u7B49\u3002</p><blockquote><p>\u670D\u52A1\u7AEF\u7684<strong>GitLab\u9879\u76EE\u4E0E\u9489\u9489\u673A\u5668\u4EBAURL\u7684\u6620\u5C04\u6570\u636E</strong>\u4E3B\u8981\u7528\u4E8E\u5EFA\u7ACB<strong>GitLab\u9879\u76EE</strong>\u4E0E<strong>\u9489\u9489\u7FA4\u81EA\u5B9A\u4E49\u673A\u5668\u4EBA</strong>\u7684\u6620\u5C04\u5173\u7CFB\uFF0C\u5B9E\u73B0\u5C06GitLab\u4E0A<strong>\u9879\u76EE\u76F8\u5173\u7684Webhook\u4E8B\u4EF6</strong>\u63A8\u9001\u6D88\u606F\u5230<strong>\u9879\u76EE\u5BF9\u5E94\u7684\u9489\u9489\u7FA4</strong>\u3002</p></blockquote><p><code>mr dtu</code> \u547D\u4EE4\u5E2E\u52A9\u83DC\u5355\uFF1A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>$ mr dtu <span class="token parameter variable">-h</span>

mr dtu <span class="token operator">&lt;</span>\u547D\u4EE4<span class="token operator">&gt;</span>

\u64CD\u4F5CGitLab\u9879\u76EE\u4E0E\u9489\u9489\u673A\u5668\u4EBAURL\u7684\u6620\u5C04\u6570\u636E<span class="token punctuation">(</span>DingTalkUrl<span class="token punctuation">)</span>

\u547D\u4EE4\uFF1A
  mr dtu get <span class="token operator">&lt;</span>project_id<span class="token operator">&gt;</span>                                     \u67E5\u770B\u9879\u76EE\uFF0C\u53C2\u6570\u89E3\u91CA: <span class="token operator">&lt;</span>GitLab\u9879\u76EEID<span class="token operator">&gt;</span>
  mr dtu list                                                 \u67E5\u770B\u5168\u90E8\u9879\u76EE
  mr dtu <span class="token builtin class-name">set</span> <span class="token operator">&lt;</span>project_id<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>dingtalk_url<span class="token operator">&gt;</span>                      \u8BBE\u7F6E\u9879\u76EE\uFF0C\u53C2\u6570\u89E3\u91CA: <span class="token operator">&lt;</span>GitLab\u9879\u76EEID<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>\u9489\u9489\u81EA\u5B9A\u4E49\u673A\u5668\u4EBAURL<span class="token operator">&gt;</span>
  mr dtu update <span class="token operator">&lt;</span>old_project_id<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>project_id<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>dingtalk_url<span class="token operator">&gt;</span>  \u66F4\u65B0\u9879\u76EE\uFF0C\u53C2\u6570\u89E3\u91CA: <span class="token operator">&lt;</span>GitLab\u9879\u76EEID<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>\u65B0\u7684GitLab\u9879\u76EEID<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>\u9489\u9489\u81EA\u5B9A\u4E49\u673A\u5668\u4EBAURL<span class="token operator">&gt;</span>
  mr dtu delete <span class="token operator">&lt;</span>project_id<span class="token operator">&gt;</span>                                  \u5220\u9664\u9879\u76EE\uFF0C\u53C2\u6570\u89E3\u91CA: <span class="token operator">&lt;</span>GitLab\u9879\u76EEID<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,23);function b(k,g){const e=i("ExternalLinkIcon");return o(),l("div",null,[c,n("blockquote",null,[n("p",null,[s("\u9700\u8981\u8FDE\u63A5\u5230\u516C\u53F8npm\u79C1\u6709\u4ED3\u5E93\uFF0C"),n("a",d,[s("\u67E5\u770B\u6559\u7A0B"),t(e)])])]),u,n("blockquote",null,[n("p",null,[s("token \u7528\u4E8E\u540E\u7EED\u521B\u5EFAMR\u3001\u64CD\u4F5C\u670D\u52A1\u7AEF\u6570\u636E\u65F6\u7684\u8EAB\u4EFD\u9A8C\u8BC1\uFF0C"),n("a",m,[s("\u521B\u5EFAtoken\u6559\u7A0B"),t(e)])])]),v])}var f=r(p,[["render",b],["__file","mr_cli.html.vue"]]);export{f as default};
